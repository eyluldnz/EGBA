{"ast":null,"code":"import _classCallCheck from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import UserAction from'../Actions/UserAction';import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Button from'@material-ui/core/Button';import DeleteIcon from'@material-ui/icons/Delete';import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserMarketItemsComps=/*#__PURE__*/function(_Component){_inherits(UserMarketItemsComps,_Component);var _super=_createSuper(UserMarketItemsComps);function UserMarketItemsComps(){var _this;_classCallCheck(this,UserMarketItemsComps);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.removeItem=function(item){swal({text:\"Market isteğini silmek istiyor musunuz?\"+item.id,icon:\"info\",buttons:[\"Hayır\",\"Evet\"]}).then(function(_res){if(_res===true){_this.props.RemoveMarket(item);}});};return _this;}_createClass(UserMarketItemsComps,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.GetMarketItems(this.props.UserId);this.render();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.UserMarketItems.Data!==null&&prevProps.UserMarketItems.Data.length!==this.props.UserMarketItems.Data.length){this.render();}}},{key:\"render\",value:function render(){var _this2=this;var UserMarketItems=this.props.UserMarketItems;if(UserMarketItems.Data==null){return\"\";}var list_item=function list_item(items){return items.map(function(item){var button;if(item.userId===parseInt(localStorage.getItem('user_'))){button=/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",size:\"small\",onClick:function onClick(){return _this2.showEditModal(item.id);},children:\"D\\xFCzenle\"});}else{button=\" \";}return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:item.marketName}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\" \",item.item]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\" \",item.count]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\" \",item.requestUserName]}),/*#__PURE__*/_jsxs(TableCell,{children:[\"  \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.removeItem(item);},variant:\"contained\",color:\"secondary\",startIcon:/*#__PURE__*/_jsx(DeleteIcon,{}),children:\"Kald\\u0131r\"})]})]});});};var _items=list_item(UserMarketItems.Data);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"marketlist\",style:{padding:25},children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{size:\"small\",\"aria-label\":\"a dense table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Market\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Al\\u0131nacaklar\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Adet\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Talebi A\\xE7an ki\\u015Fi\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:_items})]})})})});}}]);return UserMarketItemsComps;}(Component);var MapStateToProps=function MapStateToProps(_state){var UserMarketItems=_state.UserReducer.UserMarketItems;return{UserMarketItems:UserMarketItems};};var MapDispatchToProps=function MapDispatchToProps(_dispatch,_ownProps){return{GetMarketItems:function GetMarketItems(_userId){return _dispatch(UserAction.GetMarketItems(_userId));},RemoveMarket:function RemoveMarket(_item){return _dispatch(UserAction.RemoveMarket(_item));}};};export var UserMarketItems=connect(MapStateToProps,MapDispatchToProps)(UserMarketItemsComps);","map":{"version":3,"sources":["C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/src/Pages/UserMarketItems.js"],"names":["React","Component","connect","UserAction","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","DeleteIcon","swal","UserMarketItemsComps","removeItem","item","text","id","icon","buttons","then","_res","props","RemoveMarket","GetMarketItems","UserId","render","prevProps","UserMarketItems","Data","length","list_item","items","map","button","userId","parseInt","localStorage","getItem","showEditModal","marketName","count","requestUserName","_items","padding","MapStateToProps","_state","UserReducer","MapDispatchToProps","_dispatch","_ownProps","_userId","_item"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport UserAction from '../Actions/UserAction';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport swal from 'sweetalert';\r\n\r\nclass UserMarketItemsComps extends Component {\r\n    componentDidMount() {\r\n        this.props.GetMarketItems(this.props.UserId);\r\n        this.render();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.UserMarketItems.Data!==null && prevProps.UserMarketItems.Data.length!==this.props.UserMarketItems.Data.length) {\r\n            this.render();\r\n        }\r\n    }\r\n  \r\n\r\n    removeItem=(item)=>{\r\n        swal({\r\n            text: \"Market isteğini silmek istiyor musunuz?\"+ item.id,\r\n            icon: \"info\",\r\n            buttons: [\"Hayır\", \"Evet\"]\r\n        }).then(_res => {\r\n            if (_res === true) {\r\n                this.props.RemoveMarket(item)  }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const { UserMarketItems } = this.props;\r\n        if (UserMarketItems.Data == null) {\r\n            return \"\";\r\n        }\r\n        const list_item = items => {\r\n\r\n            return (\r\n\r\n                items.map(item => {\r\n\r\n                    let button;\r\n                    if (item.userId === parseInt(localStorage.getItem('user_'))) {\r\n                        button = <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={() => this.showEditModal(item.id)}>Düzenle</Button>;\r\n                    }\r\n                    else {\r\n                        button = \" \";\r\n                    }\r\n                    return (\r\n                        <TableRow >\r\n                            <TableCell component=\"th\" scope=\"row\">\r\n                                {item.marketName}\r\n                            </TableCell>\r\n                            <TableCell align=\"right\"> {item.item}</TableCell>\r\n                            <TableCell align=\"right\"> {item.count}</TableCell>\r\n                            <TableCell align=\"right\"> {item.requestUserName}</TableCell>\r\n\r\n\r\n                            <TableCell>  <Button  onClick={() => this.removeItem( item )} variant=\"contained\" color=\"secondary\"startIcon={<DeleteIcon />}>Kaldır</Button></TableCell>\r\n\r\n                        </TableRow>\r\n\r\n                    )\r\n                })\r\n            );\r\n        }\r\n\r\n        const _items = list_item(UserMarketItems.Data);\r\n        return (\r\n            <div>\r\n                <div className=\"marketlist\" style={{ padding: 25 }}>\r\n\r\n                    {/* {this.state.ItemId != -1 && (\r\n                        <Modal show={this.state.showEditModal} handleClose={this.hideEditModal}>\r\n                            <Container>\r\n                                <MarketItemUpdate ItemId={this.state.ItemId} />\r\n                            </Container>\r\n                        </Modal>)} */}\r\n\r\n                    <TableContainer component={Paper}>\r\n\r\n                        <Table size=\"small\" aria-label=\"a dense table\">\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell>Market</TableCell>\r\n                                    <TableCell align=\"right\">Alınacaklar</TableCell>\r\n                                    <TableCell align=\"right\">Adet</TableCell>\r\n                                    <TableCell align=\"right\">Talebi Açan kişi</TableCell>\r\n\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {_items}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst MapStateToProps = _state => {\r\n\r\n    const { UserMarketItems,} = _state.UserReducer;\r\n\r\n    return { UserMarketItems };\r\n}\r\n\r\nconst MapDispatchToProps = (_dispatch, _ownProps) => {\r\n    return {\r\n        GetMarketItems: (_userId) => _dispatch(UserAction.GetMarketItems(_userId)),\r\n        RemoveMarket:(_item) => _dispatch(UserAction.RemoveMarket(_item))\r\n    }\r\n}\r\n\r\nexport const UserMarketItems = connect(MapStateToProps, MapDispatchToProps)(UserMarketItemsComps);\r\n"]},"metadata":{},"sourceType":"module"}