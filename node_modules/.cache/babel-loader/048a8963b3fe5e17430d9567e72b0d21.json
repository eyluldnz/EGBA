{"ast":null,"code":"import _classCallCheck from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ListItem from'@material-ui/core/ListItem';import ListItemAvatar from'@material-ui/core/ListItemAvatar';import ListItemText from'@material-ui/core/ListItemText';import Avatar from'@material-ui/core/Avatar';import AddIcon from'@material-ui/icons/Add';import PersonAddIcon from'@material-ui/icons/PersonAdd';import FolderIcon from'@material-ui/icons/Folder';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import{green}from'@material-ui/core/colors';import Paper from'@material-ui/core/Paper';import{IconButton,TableRow,Container,Button}from'@material-ui/core';import SchoolIcon from'@material-ui/icons/School';import ListIcon from'@material-ui/icons/List';import{AddEducation}from'../Pages/AddEducation';import EducationAction from'../Actions/EducationAction';import{connect}from'react-redux';import Modal from'./Modal';import swal from'sweetalert';import{EducationList}from'../Pages/EducationList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EducationComponent=/*#__PURE__*/function(_Component){_inherits(EducationComponent,_Component);var _super=_createSuper(EducationComponent);function EducationComponent(props){var _this;_classCallCheck(this,EducationComponent);_this=_super.call(this,props);_this.updateValue=1;_this.NewCourse=0;_this.showModal=function(){_this.setState({show:true});};_this.hideModal=function(){_this.setState({show:false});};_this.hideItemListModal=function(){_this.setState({showItemListModal:false});};_this.showItemListModal=function(_courseId){_this.setState({showItemListModal:true,Id:_courseId});};_this.mentorAdd=function(_course){var _id=localStorage.getItem('user_');var addedMentor={Id:_course.id,StartDate:_course.startDate,FinishDate:_course.finishDate,Subject:_course.subject,MentorId:_id};swal({text:\"Kursa mentor olmak istiyor musunuz?\",icon:\"info\",buttons:[\"Hayır\",\"Evet\"]}).then(function(_res){if(_res===true){_this.props.WillBeMentor(addedMentor);}});_this.updateValue=0;_this.setState({isAdded:false});};_this.joinCourse=function(_userId,_courseId){var joinCourse={EducationId:_courseId,UserId:_userId};swal({text:\"Kursa kayıt olmak istiyor musunuz?\",icon:\"info\",buttons:[\"Hayır\",\"Evet\"]}).then(function(_res){if(_res===true){_this.props.JoinCourse(joinCourse);}});};_this.state={show:false,showItemListModal:false,Id:0,StartDate:'',FinishDate:'',Subject:'',MentorId:0,UserId:0,isAdded:false};_this.showModal=_this.showModal.bind(_assertThisInitialized(_this));_this.hideModal=_this.hideModal.bind(_assertThisInitialized(_this));return _this;}_createClass(EducationComponent,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.GetCurrentCourse();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.Currentcourses.Data!==null&&prevProps.Currentcourses.Data.length!==this.props.Currentcourses.Data.length){this.render();}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,Currentcourses=_this$props.Currentcourses,AddCourse=_this$props.AddCourse;if(!Currentcourses.Data){console.log(\"Data yok\");return\" \";}if(AddCourse.Data&&this.state.show){this.hideModal();AddCourse.Data=null;}var element_courses=function element_courses(courses){return courses.map(function(course){var buttonMentor;if(course.mentorId==null){buttonMentor=/*#__PURE__*/_jsx(SchoolIcon,{onClick:function onClick(){return _this2.mentorAdd(course);}});;}else{buttonMentor=\"\";}return/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{children:/*#__PURE__*/_jsx(FolderIcon,{})})}),/*#__PURE__*/_jsx(ListItemText,{primary:course.subject,secondary:course.startDate.toString().slice(0,10)+\" - \"+course.finishDate.toString().slice(0,10)}),/*#__PURE__*/_jsx(IconButton,{children:buttonMentor}),/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-label\":\"Add\",onClick:function onClick(){return _this2.joinCourse(localStorage.getItem('user_'),course.id);},style:{display:'block',margin:'auto'},children:/*#__PURE__*/_jsx(PersonAddIcon,{})}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"Add\",onClick:function onClick(){return _this2.showItemListModal(course.id);},style:{display:'block',margin:'auto'},children:/*#__PURE__*/_jsx(ListIcon,{})})]})});});};return/*#__PURE__*/_jsxs(\"div\",{style:{maxHeight:'100%',overflow:'auto'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"E\\u011Fitim\"}),this.props.AddCourse.Data==null&&/*#__PURE__*/_jsx(Modal,{show:this.state.show,handleClose:this.hideModal,children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(AddEducation,{CourseId:this.state.isAdded})})}),this.state.Id!=0&&/*#__PURE__*/_jsx(Modal,{show:this.state.showItemListModal,handleClose:this.hideItemListModal,children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(EducationList,{CourseId:this.state.Id})})}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,style:{overflowY:\"scroll\",height:620},children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"sticky table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(IconButton,{className:\"float-right\",edge:\"end\",\"aria-label\":\"Add\",onClick:this.showModal,style:{display:'block',margin:'auto'},children:/*#__PURE__*/_jsx(AddIcon,{style:{color:green[400]}})})})}),/*#__PURE__*/_jsx(TableBody,{children:element_courses(Currentcourses.Data)})]})})]});}}]);return EducationComponent;}(Component);var MapStateToProps=function MapStateToProps(_state){var _state$EducationReduc=_state.EducationReducer,Currentcourses=_state$EducationReduc.Currentcourses,AddCourse=_state$EducationReduc.AddCourse,AddUserToCourse=_state$EducationReduc.AddUserToCourse;return{Currentcourses:Currentcourses,AddCourse:AddCourse,AddUserToCourse:AddUserToCourse};};var MapDispatchToProps=function MapDispatchToProps(_dispatch,_ownProps){return{GetCurrentCourse:function GetCurrentCourse(){return _dispatch(EducationAction.GetCurrentCourse());},WillBeMentor:function WillBeMentor(_data){return _dispatch(EducationAction.WillBeMentor(_data));},JoinCourse:function JoinCourse(_data){return _dispatch(EducationAction.JoinCourse(_data));}};};export var EducationPage=connect(MapStateToProps,MapDispatchToProps)(EducationComponent);","map":{"version":3,"sources":["C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/src/Components/EducationPage.js"],"names":["React","Component","ListItem","ListItemAvatar","ListItemText","Avatar","AddIcon","PersonAddIcon","FolderIcon","Table","TableBody","TableContainer","TableHead","green","Paper","IconButton","TableRow","Container","Button","SchoolIcon","ListIcon","AddEducation","EducationAction","connect","Modal","swal","EducationList","EducationComponent","props","updateValue","NewCourse","showModal","setState","show","hideModal","hideItemListModal","showItemListModal","_courseId","Id","mentorAdd","_course","_id","localStorage","getItem","addedMentor","id","StartDate","startDate","FinishDate","finishDate","Subject","subject","MentorId","text","icon","buttons","then","_res","WillBeMentor","isAdded","joinCourse","_userId","EducationId","UserId","JoinCourse","state","bind","GetCurrentCourse","prevProps","Currentcourses","Data","length","render","AddCourse","console","log","element_courses","courses","map","course","buttonMentor","mentorId","toString","slice","display","margin","maxHeight","overflow","overflowY","height","color","MapStateToProps","_state","EducationReducer","AddUserToCourse","MapDispatchToProps","_dispatch","_ownProps","_data","EducationPage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport { green } from '@material-ui/core/colors';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { IconButton, TableRow, Container, Button } from '@material-ui/core';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport { AddEducation } from '../Pages/AddEducation';\r\nimport EducationAction from '../Actions/EducationAction';\r\nimport { connect } from 'react-redux';\r\nimport Modal from './Modal';\r\nimport swal from 'sweetalert';\r\nimport { EducationList }  from '../Pages/EducationList';\r\n\r\n\r\n\r\n\r\n\r\nclass EducationComponent extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: false,\r\n            showItemListModal: false,\r\n            Id: 0,\r\n            StartDate: '',\r\n            FinishDate: '',\r\n            Subject: '',\r\n            MentorId: 0,\r\n            UserId: 0,\r\n            isAdded: false,\r\n           \r\n\r\n\r\n        };\r\n        this.showModal = this.showModal.bind(this);\r\n        this.hideModal = this.hideModal.bind(this);\r\n\r\n    }\r\n    updateValue = 1;\r\n    NewCourse = 0;\r\n\r\n    componentDidMount() {\r\n        this.props.GetCurrentCourse();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (prevProps.Currentcourses.Data !== null && prevProps.Currentcourses.Data.length !== this.props.Currentcourses.Data.length) {\r\n            this.render();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    showModal = () => {\r\n        this.setState({ show: true })\r\n    }\r\n\r\n    hideModal = () => {\r\n        this.setState({ show: false })\r\n    }\r\n\r\n    hideItemListModal = () => {\r\n        this.setState({ showItemListModal: false })\r\n    }\r\n    showItemListModal = (_courseId,) => {\r\n        this.setState({ showItemListModal: true, Id: _courseId})\r\n    }\r\n\r\n    mentorAdd = (_course) => {\r\n        let _id = localStorage.getItem('user_');\r\n\r\n        let addedMentor = {\r\n            Id: _course.id,\r\n            StartDate: _course.startDate,\r\n            FinishDate: _course.finishDate,\r\n            Subject: _course.subject,\r\n            MentorId: _id\r\n        };\r\n        swal({\r\n            text: \"Kursa mentor olmak istiyor musunuz?\",\r\n            icon: \"info\",\r\n            buttons: [\"Hayır\", \"Evet\"]\r\n        }).then(_res => {\r\n            if (_res === true) {\r\n                this.props.WillBeMentor(addedMentor);\r\n            }\r\n        })\r\n\r\n       \r\n        this.updateValue = 0;\r\n        this.setState({ isAdded: false })\r\n    }\r\n\r\n    joinCourse = (_userId, _courseId) => {\r\n\r\n        let joinCourse = {\r\n            EducationId: _courseId,\r\n            UserId: _userId\r\n        };\r\n        swal({\r\n            text: \"Kursa kayıt olmak istiyor musunuz?\",\r\n            icon: \"info\",\r\n            buttons: [\"Hayır\", \"Evet\"]\r\n        }).then(_res => {\r\n            if (_res === true) {\r\n                this.props.JoinCourse(joinCourse);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { Currentcourses, AddCourse } = this.props;\r\n        if (!Currentcourses.Data) {\r\n            console.log(\"Data yok\");\r\n            return \" \";\r\n\r\n        }\r\n        if (AddCourse.Data && this.state.show) {\r\n            this.hideModal();\r\n\r\n            AddCourse.Data = null;\r\n        }\r\n\r\n\r\n\r\n        const element_courses = courses => {\r\n            return (\r\n\r\n                courses.map(course => {\r\n                    let buttonMentor;\r\n                    if (course.mentorId == null) {\r\n\r\n                        buttonMentor = <SchoolIcon onClick={() => this.mentorAdd(course)}></SchoolIcon>;;\r\n                    }\r\n                    else {\r\n                        buttonMentor = \"\";\r\n                    }\r\n\r\n                    return (\r\n                        <TableRow>\r\n                            <ListItem>\r\n                                <ListItemAvatar>\r\n                                    <Avatar>\r\n                                        <FolderIcon />\r\n                                    </Avatar>\r\n                                </ListItemAvatar>\r\n                                <ListItemText\r\n                                    primary={course.subject}\r\n                                    secondary={course.startDate.toString().slice(0, 10) + \" - \" + course.finishDate.toString().slice(0, 10)}\r\n                                />\r\n                                <IconButton >\r\n                                    {buttonMentor}\r\n                                </IconButton>\r\n\r\n                                <IconButton edge=\"end\" aria-label=\"Add\" onClick={() => this.joinCourse(localStorage.getItem('user_'), course.id)} style={{ display: 'block', margin: 'auto' }}>\r\n                                    <PersonAddIcon />\r\n                                </IconButton>\r\n                                <IconButton aria-label=\"Add\" onClick={() => this.showItemListModal(course.id)}  style={{ display: 'block', margin: 'auto' }}>\r\n                                    <ListIcon />\r\n                                </IconButton>\r\n\r\n\r\n                            </ListItem>\r\n                        </TableRow>\r\n                    );\r\n                })\r\n\r\n            );\r\n        }\r\n\r\n\r\n        return (\r\n            <div style={{maxHeight: '100%', overflow: 'auto'}} >\r\n                <h3>Eğitim</h3>\r\n\r\n                {this.props.AddCourse.Data == null && (<Modal show={this.state.show} handleClose={this.hideModal}>\r\n                    <Container>\r\n                        <AddEducation CourseId={this.state.isAdded} />\r\n                    </Container>\r\n                </Modal>)}\r\n\r\n                {this.state.Id != 0  &&  (\r\n                    <Modal show={this.state.showItemListModal} handleClose={this.hideItemListModal}>\r\n                        <Container>\r\n                            <EducationList CourseId={this.state.Id} />\r\n                        </Container>\r\n                    </Modal>)}\r\n\r\n                <TableContainer component={Paper} style={{overflowY:\"scroll\", height:620}}>\r\n                    <Table  aria-label=\"sticky table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n\r\n                                <IconButton className=\"float-right\" edge=\"end\" aria-label=\"Add\" onClick={this.showModal} style={{ display: 'block', margin: 'auto' }}>\r\n                                    <AddIcon style={{ color: green[400] }} />\r\n                                </IconButton>\r\n\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n\r\n                            {element_courses(Currentcourses.Data)}\r\n\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst MapStateToProps = _state => {\r\n    const { Currentcourses, AddCourse, AddUserToCourse } = _state.EducationReducer;\r\n    return { Currentcourses, AddCourse, AddUserToCourse };\r\n\r\n}\r\n\r\n\r\n\r\nconst MapDispatchToProps = (_dispatch, _ownProps) => {\r\n    return {\r\n        GetCurrentCourse: () => _dispatch(EducationAction.GetCurrentCourse()),\r\n        WillBeMentor: (_data) => _dispatch(EducationAction.WillBeMentor(_data)),\r\n        JoinCourse: (_data) => _dispatch(EducationAction.JoinCourse(_data))\r\n    }\r\n}\r\n\r\nexport const EducationPage = connect(MapStateToProps, MapDispatchToProps)(EducationComponent);\r\n\r\n"]},"metadata":{},"sourceType":"module"}