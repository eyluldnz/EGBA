{"ast":null,"code":"import _classCallCheck from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import MarketItemAction from'../Actions/MarketItemAction';import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Button from'@material-ui/core/Button';import Modal from'../Components/Modal';import{Container}from'@material-ui/core';import{MarketItemUpdate}from'./MarketItemUpdate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemList=/*#__PURE__*/function(_Component){_inherits(ItemList,_Component);var _super=_createSuper(ItemList);function ItemList(){var _this;_classCallCheck(this,ItemList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={Item:\"\",Count:\"\",showEditModal:false,ItemId:-1};_this.showEditModal=function(_marketItemId){_this.setState({showEditModal:true,ItemId:_marketItemId});};_this.hideEditModal=function(){_this.setState({showEditModal:false});};return _this;}_createClass(ItemList,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.GetAllItem(this.props.MarketId);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.MarketId!==this.props.MarketId){this.props.GetAllItem(this.props.MarketId);}if(prevProps.AllItem){this.render();}}},{key:\"render\",value:function render(){var _this2=this;var AllItem=this.props.AllItem;if(!AllItem.Data){return\" \";}var list_item=function list_item(items){return items.map(function(item){var button;if(item.userId===parseInt(localStorage.getItem('user_'))){button=/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",size:\"small\",onClick:function onClick(){return _this2.showEditModal(item.id);},children:\"D\\xFCzenle\"});}else{button=\" \";}return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:item.marketName}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\" \",item.item]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\" \",item.count]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\" \",item.username]}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:button})]});});};var _items=list_item(AllItem.Data);return/*#__PURE__*/_jsxs(\"div\",{className:\"marketlist\",style:{padding:25},children:[this.state.ItemId!=-1&&/*#__PURE__*/_jsx(Modal,{show:this.state.showEditModal,handleClose:this.hideEditModal,children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(MarketItemUpdate,{ItemId:this.state.ItemId})})}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{size:\"small\",\"aria-label\":\"a dense table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Market\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Al\\u0131nacaklar\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Adet\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"\\u0130steyen ki\\u015Fi\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:_items})]})})]});}}]);return ItemList;}(Component);var MapStateToProps=function MapStateToProps(_state){var AllItem=_state.MarketItemReducer.AllItem;return{AllItem:AllItem};};var MapDispatchToProps=function MapDispatchToProps(_dispatch,_ownProps){return{GetAllItem:function GetAllItem(_id){return _dispatch(MarketItemAction.GetAllItem(_id));}};};export var MarketItemList=connect(MapStateToProps,MapDispatchToProps)(ItemList);","map":{"version":3,"sources":["C:/Users/eyluldeniz.can/Desktop/EGBA/egba-web/src/Pages/MarketItemList.js"],"names":["React","Component","connect","MarketItemAction","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","Modal","Container","MarketItemUpdate","ItemList","state","Item","Count","showEditModal","ItemId","_marketItemId","setState","hideEditModal","props","GetAllItem","MarketId","prevProps","AllItem","render","Data","list_item","items","map","item","button","userId","parseInt","localStorage","getItem","id","marketName","count","username","_items","padding","MapStateToProps","_state","MarketItemReducer","MapDispatchToProps","_dispatch","_ownProps","_id","MarketItemList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport MarketItemAction from '../Actions/MarketItemAction';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport Modal from '../Components/Modal';\r\nimport { Container } from '@material-ui/core';\r\nimport { MarketItemUpdate } from './MarketItemUpdate';\r\n\r\n\r\nclass ItemList extends Component {\r\n    state = {\r\n        Item: \"\",\r\n        Count: \"\",\r\n        showEditModal: false,\r\n        ItemId:-1\r\n\r\n    }\r\n\r\n    showEditModal = (_marketItemId) => {\r\n        this.setState({ showEditModal: true, ItemId:_marketItemId })\r\n    }\r\n\r\n    hideEditModal = () => {\r\n        this.setState({ showEditModal: false })\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.GetAllItem(this.props.MarketId);\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (prevProps.MarketId !== this.props.MarketId) {\r\n            this.props.GetAllItem(this.props.MarketId);\r\n        }\r\n        if (prevProps.AllItem) {\r\n            this.render();\r\n        }\r\n    }\r\n\r\n    \r\n    render() {\r\n\r\n\r\n        const { AllItem } = this.props;\r\n        if (!AllItem.Data) {\r\n            return \" \";\r\n        }\r\n\r\n        const list_item = items => {\r\n\r\n            return (\r\n\r\n                items.map(item => {\r\n\r\n                    let button;\r\n                    if (item.userId===parseInt(localStorage.getItem('user_'))){\r\n                        button=<Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={() => this.showEditModal(item.id)}>Düzenle</Button>;\r\n                    }\r\n                    else{\r\n                        button=\" \";\r\n                    }\r\n                        return (\r\n                            <TableRow >\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    {item.marketName}\r\n                                </TableCell>\r\n                                <TableCell align=\"right\"> {item.item}</TableCell>\r\n                                <TableCell align=\"right\"> {item.count}</TableCell>\r\n                                <TableCell align=\"right\"> {item.username}</TableCell>\r\n                               \r\n\r\n                                <TableCell align=\"right\">{button}</TableCell>\r\n\r\n                            </TableRow>\r\n\r\n                        )\r\n                })\r\n            );\r\n        }\r\n\r\n        const _items = list_item(AllItem.Data);\r\n\r\n        return (\r\n\r\n            <div className=\"marketlist\" style={{ padding: 25 }}>\r\n\r\n                {this.state.ItemId != -1 && (\r\n                    <Modal show={this.state.showEditModal} handleClose={this.hideEditModal}>\r\n                        <Container>\r\n                            <MarketItemUpdate ItemId={this.state.ItemId}/>\r\n                        </Container>\r\n                    </Modal>)}\r\n\r\n                <TableContainer component={Paper}>\r\n                    \r\n                    <Table size=\"small\" aria-label=\"a dense table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>Market</TableCell>\r\n                                <TableCell align=\"right\">Alınacaklar</TableCell>\r\n                                <TableCell align=\"right\">Adet</TableCell>\r\n                                <TableCell align=\"right\">İsteyen kişi</TableCell>\r\n\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {_items}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst MapStateToProps = _state => {\r\n    const { AllItem } = _state.MarketItemReducer;\r\n    return { AllItem };\r\n}\r\n\r\nconst MapDispatchToProps = (_dispatch, _ownProps) => {\r\n\r\n    return {\r\n        GetAllItem: (_id) => _dispatch(MarketItemAction.GetAllItem(_id))\r\n    };\r\n}\r\n\r\nexport const MarketItemList = connect(MapStateToProps, MapDispatchToProps)(ItemList);"]},"metadata":{},"sourceType":"module"}